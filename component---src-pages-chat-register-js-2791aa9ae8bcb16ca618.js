(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/Sq3":function(e,a,t){},rPtv:function(e,a,t){"use strict";t.r(a);t("f3/d");var n=t("q1tI"),s=t.n(n),c=t("vDqi"),r=t.n(c),l=t("r5vi"),m=t("Bl7J"),i=t("vrFN"),o=t("GTfE"),d=t("xPX6"),u=t("mUSF"),p=(t("o0eb"),t("/Sq3"),d.a.API_URL);a.default=function(){var e=Object(l.a)(["name","token"]),a=e[0],t=e[1],c=Object(n.useState)(!0),d=c[0],h=c[1],f=Object(n.useState)(!1),v=f[0],b=f[1],E=Object(n.useState)(""),g=E[0],N=E[1];return s.a.createElement(m.a,null,s.a.createElement(i.a,{title:"Chat Register"}),s.a.createElement(o.a,null,s.a.createElement("h3",null," Register for Living Water Chat "),s.a.createElement("br",null),s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target[2].checked,s=e.target[0].value,c=e.target[1].value;if(""!==s&&""!==c){var l={username:s,password:c,anonymous:n};if(!n){var m=e.target[5].checked,i=e.target[3].value,o=e.target[4].value;if(""===i||""===o)return void N("name missing");if(l.firstName=i,l.lastName=o,l.admin=m,m){var d=e.target[6].value;if(""===d)return void N("admin password missing");l.adminPassword=d}}r.a.post(p+"createUser",l).then((function(e){"success"===e.data.status?(t("name",e.data.name,{path:"/chat"}),t("token",e.data.token,{path:"/chat"}),console.log(a),"yes"===e.data.admin?Object(u.a)("/chat/admin"):Object(u.a)("/chat")):N(e.data.status)})).catch((function(e){console.log(e)}))}else N("username or password missing")},className:"cred-box"},s.a.createElement("input",{className:"text-input",type:"text",name:"name",placeholder:"username"}),s.a.createElement("input",{className:"text-input",type:"password",name:"password",placeholder:"password"}),s.a.createElement("label",{className:"anonymous-input"},s.a.createElement("input",{className:"checkbox-input",type:"checkbox",name:"anonymous",checked:d,onChange:function(){h(!d)}}),"Keep me anonymous"),!d&&s.a.createElement("div",{className:"additional-info"},s.a.createElement("div",{className:"additional-info-name"},s.a.createElement("input",{className:"additional-name-input",type:"text",name:"firstname",placeholder:"first name"}),s.a.createElement("input",{className:"additional-name-input",type:"text",name:"lastname",placeholder:"last name"})),s.a.createElement("div",{className:"additional-info-admin"},s.a.createElement("label",null,s.a.createElement("input",{className:"checkbox-input",type:"checkbox",name:"admin",checked:v,onChange:function(){b(!v)}}),"Admin?"),v&&s.a.createElement("input",{className:"additional-admin-input",type:"password",name:"adminpass",placeholder:"admin password"}))),g&&s.a.createElement("div",{className:"error-message"},g),s.a.createElement("div",{className:"button-box"},s.a.createElement("input",{className:"cred-button",type:"submit",value:"register"}))),s.a.createElement("span",{className:"here-before"}," Been here before? ",s.a.createElement("a",{href:"/chat/login"},"Log in")," ")))}}}]);
//# sourceMappingURL=component---src-pages-chat-register-js-2791aa9ae8bcb16ca618.js.map