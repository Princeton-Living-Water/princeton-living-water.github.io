{"version":3,"sources":["webpack:///./src/pages/chat/register.js"],"names":["API_URL","constants","ChatRegisterPage","useCookies","setCookies","title","onSubmit","event","preventDefault","user_input","target","value","pass_input","axios","post","username","password","then","response","data","status","name","token","admin","window","location","replace","console","log","catch","error","className","type","placeholder","href"],"mappings":"8OAYMA,G,8BAAUC,EAAS,SAyDVC,UAvDU,WAAO,IAAD,EACCC,YAAW,CAAC,OAAQ,UAAlCC,GADa,WAqC7B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,kBACX,kBAAC,IAAD,KACE,gEAAyC,6BACzC,0BAAMC,SAvCG,SAACC,GACdA,EAAMC,iBAEN,IAAMC,EAAaF,EAAMG,OAAO,GAAGC,MAC7BC,EAAaL,EAAMG,OAAO,GAAGC,MACnCE,IAAMC,KAAKd,EAAU,aAAc,CACjCe,SAAUN,EACVO,SAAUJ,IAEXK,MAAK,SAACC,GACwB,YAAzBA,EAASC,KAAKC,QAChBhB,EAAW,OAAQc,EAASC,KAAKE,MACjCjB,EAAW,QAASc,EAASC,KAAKG,OACN,QAAxBJ,EAASC,KAAKI,MACZ,oBAAOC,QACTA,OAAOC,SAASC,QAAQ,eAItB,oBAAOF,QACTA,OAAOC,SAASC,QAAQ,UAM5BC,QAAQC,IAAIV,EAASC,SAGxBU,OAAM,SAACC,GACNH,QAAQC,IAAIE,OAScC,UAAU,YAChC,2BAAOA,UAAU,aAAaC,KAAK,OAAOX,KAAK,OAAOY,YAAY,aAAY,6BAC9E,2BAAOF,UAAU,aAAaC,KAAK,WAAWX,KAAK,WAAWY,YAAY,aAAY,6BAAK,6BAC3F,yBAAKF,UAAU,cACb,2BAAOA,UAAU,cAAcC,KAAK,SAASrB,MAAM,eAGvD,0BAAMoB,UAAU,eAAhB,sBAAiD,uBAAGG,KAAK,eAAR,UAAjD","file":"component---src-pages-chat-register-js-1931457de22a27fe3ea1.js","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\n\nimport Layout from \"../../components/layout\";\nimport SEO from \"../../components/seo\";\nimport Subpage from \"../../components/subpage\";\n\nimport \"../../assets/styles.css\";\nimport \"../../assets/chat.css\";\nimport constants from '../../../constants.js';\n\nconst API_URL = constants[\"API_URL\"];\n\nconst ChatRegisterPage = () => {\n  const [cookies, setCookies] = useCookies([\"name\", \"token\"]);\n\n  const signup = (event) => {\n    event.preventDefault();\n\n    const user_input = event.target[0].value;\n    const pass_input = event.target[1].value;\n    axios.post(API_URL + \"createUser\", {\n      username: user_input,\n      password: pass_input,\n    })\n    .then((response) => {\n      if (response.data.status === \"success\") {\n        setCookies(\"name\", response.data.name);\n        setCookies(\"token\", response.data.token);\n        if (response.data.admin === \"yes\") {\n          if (typeof window !== `undefined`) {\n            window.location.replace(\"/chat/admin\");\n          }\n        }\n        else {\n          if (typeof window !== `undefined`) {\n            window.location.replace(\"/chat\");\n          }\n        }\n      }\n      else {\n        // Place handling of error message here\n        console.log(response.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n  }\n\n  return (\n    <Layout>\n      <SEO title=\"Chat Register\" />\n      <Subpage>\n        <h3> Register for Living Water Chat </h3><br/>\n        <form onSubmit={signup} className=\"cred-box\">\n          <input className=\"text-input\" type=\"text\" name=\"name\" placeholder=\"username\"/><br/>\n          <input className=\"text-input\" type=\"password\" name=\"password\" placeholder=\"password\"/><br/><br/>\n          <div className=\"button-box\">\n            <input className=\"cred-button\" type=\"submit\" value=\"register\"></input>\n          </div>\n        </form>\n        <span className=\"here-before\"> Been here before? <a href=\"/chat/login\">Log in</a> </span>\n      </Subpage>\n    </Layout>\n  );\n};\n\nexport default ChatRegisterPage;\n"],"sourceRoot":""}