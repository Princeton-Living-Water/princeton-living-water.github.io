(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{zzPt:function(e,t,n){"use strict";n.r(t);n("pIFo"),n("f3/d");var r=n("q1tI"),a=n.n(r),o=(n("Wbzz"),n("r5vi")),i=n("Bl7J"),c=n("vrFN"),u=n("GTfE"),s=(n("oBF0"),function(e){var t=e.message,n=t.message,r=t.sender,o="admin"===r?"otherWrapper":"userWrapper",i="admin"===r?"otherMessage":"userMessage";return a.a.createElement("div",{className:o},a.a.createElement("div",{className:i},n))}),l=n("AlIK"),d=n("IP2g"),f=n("wHSu");n("DNiP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("8+KV");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=r.useLayoutEffect,p=function(e){var t=Object(r.useRef)(e);return h((function(){t.current=e})),t},m=function(e,t){"function"!=typeof e?e.current=t:e(t)},g=function(e,t){var n=Object(r.useRef)();return Object(r.useCallback)((function(r){e.current=r,n.current&&m(n.current,null),n.current=t,t&&m(t,r)}),[t])},v={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},w=function(e){Object.keys(v).forEach((function(t){e.style.setProperty(t,v[t],"important")}))},y=null;var O=function(){},x=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],S=!!document.documentElement.currentStyle,j=function(e,t){var n=e.cacheMeasurements,a=e.maxRows,o=e.minRows,i=e.onChange,c=void 0===i?O:i,u=e.onHeightChange,s=void 0===u?O:u,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var d,f=void 0!==l.value,h=Object(r.useRef)(null),m=g(h,t),v=Object(r.useRef)(0),j=Object(r.useRef)(),E=function(){var e=h.current,t=n&&j.current?j.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,x.reduce((function(e,t){return e[t]=n[t],e}),{})),a=r.boxSizing;return""===a?null:(S&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){j.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),y||((y=document.createElement("textarea")).setAttribute("tab-index","-1"),y.setAttribute("aria-hidden","true"),w(y)),null===y.parentNode&&document.body.appendChild(y);var a=e.paddingSize,o=e.borderSize,i=e.sizingStyle,c=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;y.style[t]=i[t]})),w(y),y.value=t;var u=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(y,e);y.value="x";var s=y.scrollHeight-a,l=s*n;"border-box"===c&&(l=l+a+o),u=Math.max(l,u);var d=s*r;return"border-box"===c&&(d=d+a+o),[u=Math.min(d,u),s]}(t,e.value||e.placeholder||"x",o,a),i=r[0],c=r[1];v.current!==i&&(v.current=i,e.style.setProperty("height",i+"px","important"),s(i,{rowHeight:c}))}};return Object(r.useLayoutEffect)(E),d=p(E),Object(r.useEffect)((function(){var e=function(e){d.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(r.createElement)("textarea",b({},l,{onChange:function(e){f||E(),c(e)},ref:m}))},E=Object(r.forwardRef)(j);n("o0eb"),n("/Sq3"),t.default=function(){var e=Object(r.useState)([]),t=e[0],n=e[1],b=Object(r.useState)(0),h=(b[0],b[1]),p=Object(r.useState)(""),m=p[0],g=p[1],v=Object(o.a)(["name","token"]),w=v[0],y=(v[1],Object(r.useRef)(null));Object(r.useEffect)((function(){var e=w.name,t=w.token;if(e&&t)return Object(l.b)({name:e,token:t,setMessages:n,setNumMessages:h}),Object(l.d)(O),function(){return Object(l.c)()};"undefined"!=typeof window&&window.location.replace("/chat/login")}),[]);var O=function(e){n((function(t){return t.concat(e)}))};return a.a.createElement(i.a,null,a.a.createElement(c.a,{title:"Chat"}),a.a.createElement(u.a,null,a.a.createElement("h2",null,w.name),a.a.createElement("div",{className:"messagesWrapper"},t.map((function(e,t){return a.a.createElement(s,{message:e,key:t})}))),a.a.createElement("form",{className:"chatInput",onSubmit:function(e){e.preventDefault(),Object(l.f)(m),g("")}},a.a.createElement(E,{ref:y,onHeightChange:function(e){y.current.style.overflowY=e>170?"scroll":"hidden"},className:"chatBar",maxRows:"6",type:"text",placeholder:"send message",value:m,onChange:function(e){g(e.target.value)},required:!0}),a.a.createElement("button",{className:"chatSubmit",type:"submit"},a.a.createElement(d.a,{icon:f.a})))))}}}]);
//# sourceMappingURL=component---src-pages-chat-index-js-24fa9b3fc13f2c298add.js.map