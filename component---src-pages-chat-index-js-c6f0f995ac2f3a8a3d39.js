(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{zzPt:function(e,t,n){"use strict";n.r(t);n("pIFo"),n("f3/d");var r=n("q1tI"),a=n.n(r),o=(n("Wbzz"),n("r5vi")),i=n("Bl7J"),u=n("vrFN"),c=n("GTfE"),s=(n("oBF0"),function(e){var t=e.message,n=t.message,r=t.sender,o="admin"===r?"otherWrapper":"userWrapper",i="admin"===r?"otherMessage":"userMessage";return a.a.createElement("div",{className:o},a.a.createElement("div",{className:i},n))}),l=n("AlIK"),d=n("IP2g"),f=n("wHSu");n("DNiP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("8+KV");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=r.useLayoutEffect,p=function(e){var t=Object(r.useRef)(e);return h((function(){t.current=e})),t},m=function(e,t){"function"!=typeof e?e.current=t:e(t)},g=function(e,t){var n=Object(r.useRef)();return Object(r.useCallback)((function(r){e.current=r,n.current&&m(n.current,null),n.current=t,t&&m(t,r)}),[t])},v={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},y=function(e){Object.keys(v).forEach((function(t){e.style.setProperty(t,v[t],"important")}))},w=null;var O=function(){},j=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],x=!!document.documentElement.currentStyle,S=function(e,t){var n=e.cacheMeasurements,a=e.maxRows,o=e.minRows,i=e.onChange,u=void 0===i?O:i,c=e.onHeightChange,s=void 0===c?O:c,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var d,f=void 0!==l.value,h=Object(r.useRef)(null),m=g(h,t),v=Object(r.useRef)(0),S=Object(r.useRef)(),E=function(){var e=h.current,t=n&&S.current?S.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,j.reduce((function(e,t){return e[t]=n[t],e}),{})),a=r.boxSizing;return""===a?null:(x&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){S.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),w||((w=document.createElement("textarea")).setAttribute("tab-index","-1"),w.setAttribute("aria-hidden","true"),y(w)),null===w.parentNode&&document.body.appendChild(w);var a=e.paddingSize,o=e.borderSize,i=e.sizingStyle,u=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;w.style[t]=i[t]})),y(w),w.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(w,e);w.value="x";var s=w.scrollHeight-a,l=s*n;"border-box"===u&&(l=l+a+o),c=Math.max(l,c);var d=s*r;return"border-box"===u&&(d=d+a+o),[c=Math.min(d,c),s]}(t,e.value||e.placeholder||"x",o,a),i=r[0],u=r[1];v.current!==i&&(v.current=i,e.style.setProperty("height",i+"px","important"),s(i,{rowHeight:u}))}};return Object(r.useLayoutEffect)(E),d=p(E),Object(r.useEffect)((function(){var e=function(e){d.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(r.createElement)("textarea",b({},l,{onChange:function(e){f||E(),u(e)},ref:m}))},E=Object(r.forwardRef)(S);n("o0eb"),n("/Sq3"),t.default=function(){var e=Object(r.useState)([]),t=e[0],n=e[1],b=Object(r.useState)(0),h=(b[0],b[1]),p=Object(r.useState)(""),m=p[0],g=p[1],v=Object(o.a)(["name","token"]),y=v[0],w=(v[1],Object(r.useRef)(null)),O=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=y.name,t=y.token;if(e&&t)return Object(l.b)({name:e,token:t,setMessages:n,setNumMessages:h}),Object(l.d)(j),function(){return Object(l.c)()};"undefined"!=typeof window&&window.location.replace("/chat/login")}),[]);var j=function(e){n((function(t){return t.concat(e)}))},x=function(e){e.preventDefault(),""!=m&&(Object(l.f)(m),g(""))};return a.a.createElement(i.a,null,a.a.createElement(u.a,{title:"Chat"}),a.a.createElement(c.a,null,a.a.createElement("h2",null,y.name),a.a.createElement("div",{className:"messagesWrapper"},t.map((function(e,t){return a.a.createElement(s,{message:e,key:t})}))),a.a.createElement("form",{ref:O,className:"chatInput",onSubmit:x},a.a.createElement(E,{onKeyDown:function(e){13==e.keyCode&&0==e.shiftKey&&(e.preventDefault(),x(e))},ref:w,onHeightChange:function(e){w.current.style.overflowY=e>100?"scroll":"hidden"},className:"chatBar",maxRows:"6",type:"text",placeholder:"send message",value:m,onChange:function(e){g(e.target.value)},required:!0}),a.a.createElement("button",{className:"chatSubmit",type:"submit"},a.a.createElement(d.a,{icon:f.a})))))}}}]);
//# sourceMappingURL=component---src-pages-chat-index-js-c6f0f995ac2f3a8a3d39.js.map