{"version":3,"sources":["webpack:///./src/pages/resources/devos.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/js/collapsible.js"],"names":["DevosPage","pageContext","data","day","numDevos","allFile","edges","length","Error","window","location","replace","linesToElem","lines","elem","document","createElement","l","node","appendChild","createTextNode","useEffect","addCollapsible","devoBox","getElementById","innerHTML","devoName","devo","text","split","filter","x","start","findIndex","startsWith","end","lastIndexOf","slice","parseText","find","name","internal","content","header","headerHTML","classList","add","passage","instruction1","instruction2","questions","renderDevo","prevButtonClass","nextButtonClass","title","className","id","onClick","href","$export","$find","KEY","forced","Array","P","F","callbackfn","this","arguments","undefined","i","coll","getElementsByClassName","addEventListener","toggle","nextElementSibling","style","display"],"mappings":"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","file":"component---src-pages-resources-devos-js-c30b1bbaac4b625cd561.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport Layout from \"../../components/layout\";\nimport SEO from \"../../components/seo\";\nimport Subpage from \"../../components/subpage\";\nimport { useStaticQuery, graphql } from \"gatsby\";\n\nimport addCollapsible from \"../../js/collapsible.js\";\n\nimport \"../../assets/styles.css\";\nimport \"../../assets/devos.css\";\n\nconst DevosPage = ({ pageContext }) => {\n  const data = useStaticQuery(\n    graphql`\n      query DevoPageQuery {\n        allFile(filter: { sourceInstanceName: { eq: \"devos\" } }) {\n          edges {\n            node {\n              internal {\n                content\n              }\n              name\n            }\n          }\n        }\n      }\n    `\n  );\n\n  // Set day number\n  let { day } = pageContext;\n  const numDevos = data.allFile.edges.length;\n  if (!day) {\n    window.location.replace(`/resources/devos/day${numDevos}`);\n  } else if (day < 1 || day > numDevos) {\n    throw Error(\"Whoops\");\n  }\n\n  // Parse devo text and place into an object\n  const parseText = text => {\n    let devo = {};\n    let lines = text.split(/\\r?\\n/).filter(x => x !== \"\");\n    let start = lines.findIndex(x => x.startsWith(\"***\"));\n    let end = lines.lastIndexOf(\"Consider\");\n\n    devo[\"title\"] = lines[0];\n    devo[\"date\"] = lines[1];\n\n    if (start < 0) {\n      devo[\"passage\"] = \"\";\n      devo[\"content\"] = lines.slice(2);\n      devo[\"questions\"] = \"\";\n    } else {\n      devo[\"passage\"] = lines.slice(2, start);\n      devo[\"content\"] = lines.slice(start + 1, end);\n      devo[\"questions\"] = lines.slice(end + 1);\n    }\n\n    return devo;\n  };\n\n  // Create a DOM element of paragraphs given an array of lines\n  const linesToElem = lines => {\n    let elem = document.createElement(\"div\");\n    for (const l of lines) {\n      if (l === \"###\") {\n        let node = document.createElement(\"hr\");\n        elem.appendChild(node);\n      } else {\n        let node = document.createElement(\"p\");\n        node.appendChild(document.createTextNode(l));\n        elem.appendChild(node);\n      }\n    }\n\n    return elem;\n  };\n\n  // Fill in current devo\n  const renderDevo = day => {\n    let devoBox = document.getElementById(\"devo-box\");\n    devoBox.innerHTML = \"\";\n\n    const devoName = `day${day}`;\n    const devoContent = data.allFile.edges.find(node => node.node.name === devoName).node.internal.content;\n\n    let devo = parseText(devoContent);\n\n    let header = document.createElement(\"h3\");\n    let headerHTML = devo[\"date\"] + \"<br/>\" + devo[\"title\"];\n    header.innerHTML = headerHTML;\n    header.classList.add(\"devo-header\");\n\n    let passage = linesToElem(devo[\"passage\"]);\n    let instruction1 = document.createElement(\"div\");\n    instruction1.innerHTML =\n      \"<p><em>Please read the verses and pray through it before reading our own takes.</em></p> <hr/>\";\n    let content = linesToElem(devo[\"content\"]);\n    let instruction2 = document.createElement(\"div\");\n    instruction2.innerHTML = \"<hr/> <p><em>Consider</em></p>\";\n    let questions = linesToElem(devo[\"questions\"]);\n\n    // Append all elements to the devo box\n    devoBox.appendChild(header);\n    if (devo[\"passage\"] != \"\") {\n      devoBox.appendChild(passage);\n      devoBox.appendChild(instruction1);\n    }\n    devoBox.appendChild(content);\n    if (devo[\"questions\"] != \"\") {\n      devoBox.appendChild(instruction2);\n      devoBox.appendChild(questions);\n    }\n  };\n\n  useEffect(() => {\n    addCollapsible();\n    renderDevo(day);\n  }, [pageContext]);\n\n  const prevDevo = () => {\n    if (day > 1) window.location.href = `/resources/devos/day${day - 1}`;\n  };\n\n  const nextDevo = () => {\n    if (day < numDevos) window.location.href = `/resources/devos/day${day + 1}`;\n  };\n\n  const prevButtonClass = day === 1 ? \"disabled\" : \"\";\n  const nextButtonClass = day === numDevos ? \"disabled\" : \"\";\n\n  return (\n    <Layout>\n      <SEO title=\"Devos\" />\n      <Subpage>\n        <h2> daily devotionals </h2>\n        <a className=\"collapsible\">\n          <h3> disclaimer &#9660; </h3>\n        </a>\n        <div className=\"content\">\n          <p>\n            Handa and the Hooligans (Joe and Sam) were studying Ephesians together and wanted to share what they learned\n            with all of you, in the form of devotionals.\n          </p>\n          <p>\n            Please do not just blindly accept our word as true, but examine everything we say with the Bible. Please\n            know that we have not been to seminary or have received any formal training. However, these devotionals were\n            not prepared carelessly but rather with much mediation and study. As one part of the Body at Princeton (now\n            dispersed), being able to study the same part of the Bible together is an opportunity for us to grow\n            together.\n          </p>\n        </div>\n        <div id=\"devo-box\"></div>\n        <div className=\"nav-buttons\">\n          <div className=\"devo-button\">\n            <a id=\"prev-button\" onClick={prevDevo} className={prevButtonClass}>\n              &#8592; Prev\n            </a>\n          </div>\n          <div className=\"devo-button\">\n            <a id=\"next-button\" onClick={nextDevo} className={nextButtonClass}>\n              Next &#8594;\n            </a>\n          </div>\n        </div>\n      </Subpage>\n    </Layout>\n  );\n};\n\nexport default DevosPage;\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","const addCollapsible = () => {\n  var coll = document.getElementsByClassName(\"collapsible\");\n  var i;\n\n  for (i = 0; i < coll.length; i++) {\n    coll[i].addEventListener(\"click\", function () {\n      this.classList.toggle(\"active\");\n      var content = this.nextElementSibling;\n      if (content.style.display === \"block\") {\n        content.style.display = \"none\";\n      } else {\n        content.style.display = \"block\";\n      }\n    });\n  }\n};\n\nexport default addCollapsible;\n"],"sourceRoot":""}