{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./src/pages/sp.js","webpack:///./src/components/subpage.js","webpack:///./src/assets/img/logo.png","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./src/js/collapsible.js"],"names":["$export","$entries","S","entries","it","SecretPage","username","password","title","id","type","onClick","document","getElementById","value","fetch","method","credentials","cache","headers","then","response","json","data","console","log","status","style","display","secretdiv","todoheading","createElement","innerHTML","todocontent","content","appendChild","form","setAttribute","todopost","todosend","setTodoContents","color","createTextNode","prayerheading","JSON","parse","Object","key","val","prayername","prayercontent","prayerpost","prayersend","setPrayerContents","Subpage","children","className","href","src","logo","alt","module","exports","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","O","keys","length","i","result","call","push","addCollapsible","coll","getElementsByClassName","addEventListener","this","classList","toggle","nextElementSibling"],"mappings":"iFACA,IAAIA,EAAU,EAAQ,QAClBC,EAAW,EAAQ,OAAR,EAA8B,GAE7CD,EAAQA,EAAQE,EAAG,SAAU,CAC3BC,QAAS,SAAiBC,GACxB,OAAOH,EAASG,O,oKCiNLC,UA/MI,WACjB,IAAIC,EACAC,EA8LJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,KACX,kBAAC,IAAD,KACA,0BAAMC,GAAG,cAAT,aACY,2BAAOC,KAAK,OAAOD,GAAG,aAAY,6BAD9C,aAEY,2BAAOC,KAAK,WAAWD,GAAG,aAAY,6BAChD,2BAAOC,KAAK,SAASC,QAnMb,WACZL,EAAWM,SAASC,eAAe,YAAYC,MAC/CP,EAAWK,SAASC,eAAe,YAAYC,MAE/CC,MAAM,8BAA+B,CACnCC,OAAQ,MACRC,YAAa,UACbC,MAAO,WACPC,QAAS,CACP,mCAAoC,OACpC,8BAA+B,IAC/B,+BAAgC,IAChC,cAAiBb,EAAW,IAAMC,KAEnCa,MAAK,SAACC,GACP,OAAOA,EAASC,UACfF,MAAK,SAACG,GAEP,GADAC,QAAQC,IAAIF,GACQ,sBAAhBA,EAAKG,OAAgC,CACzBd,SAASC,eAAe,cAChCc,MAAMC,QAAU,OAiC5B,SAAyBL,GACvB,IAAMM,EAAYjB,SAASC,eAAe,iBAEpCiB,EAAclB,SAASmB,cAAc,MAC3CD,EAAYE,UAAY,QACxB,IAAMC,EAAcrB,SAASmB,cAAc,MAQ3C,GAPAE,EAAYD,UAAYT,EAAKW,QAG7BL,EAAUM,YAAYL,GACtBD,EAAUM,YAAYF,GACtBJ,EAAUM,YAAYvB,SAASmB,cAAc,OAE5B,QAAbzB,EAAoB,CACtB,IAAM8B,EAAOxB,SAASmB,cAAc,QACpCK,EAAKC,aAAa,QAAS,yCAC3B,IAAMC,EAAW1B,SAASmB,cAAc,YACxCO,EAASD,aAAa,KAAM,YAC5BC,EAASD,aAAa,OAAQ,KAC9BC,EAASD,aAAa,OAAQ,MAC9B,IAAME,EAAW3B,SAASmB,cAAc,SACxCQ,EAASF,aAAa,KAAM,YAC5BE,EAASF,aAAa,OAAQ,UAC9BE,EAASF,aAAa,UAAW,cACjCE,EAASF,aAAa,QAAS,2EAE/BD,EAAKD,YAAYG,GACjBF,EAAKD,YAAYI,GAEjBV,EAAUM,YAAYC,GACtBxB,SAASC,eAAe,YAAYmB,UAAYT,EAAKW,QAIvDL,EAAUM,YAAYvB,SAASmB,cAAc,OAlEzCS,CAAgBjB,OACX,CACL,IAAMM,EAAYjB,SAASC,eAAe,iBAC1CgB,EAAUF,MAAMc,MAAQ,MACxBZ,EAAUM,YAAYvB,SAAS8B,eAAe,sCAIlD3B,MAAM,iCAAkC,CACtCC,OAAQ,MACRC,YAAa,UACbC,MAAO,WACPC,QAAS,CACP,mCAAoC,OACpC,8BAA+B,IAC/B,+BAAgC,IAChC,cAAiBb,EAAW,IAAMC,KAEnCa,MAAK,SAACC,GACP,OAAOA,EAASC,UACfF,MAAK,SAACG,GAEP,GADAC,QAAQC,IAAIF,GACQ,sBAAhBA,EAAKG,QAwEb,SAA2BH,GACzB,IAAMM,EAAYjB,SAASC,eAAe,iBAEpC8B,EAAgB/B,SAASmB,cAAc,MAC7CY,EAAcX,UAAY,UAC1BH,EAAUM,YAAYQ,GAItB,IAFA,IAAMT,EAAUU,KAAKC,MAAMtB,EAAKW,SAEhC,MAAuBY,OAAO3C,QAAQ+B,GAAtC,eAAgD,CAAC,IAAD,OAAtCa,EAAsC,KAAjCC,EAAiC,KACxCC,EAAarC,SAASmB,cAAc,MAC1CkB,EAAWjB,UAAYe,EACvB,IAAMG,EAAgBtC,SAASmB,cAAc,KAC7CmB,EAAclB,UAAYgB,EAE1BnB,EAAUM,YAAYc,GACtBpB,EAAUM,YAAYe,GACtBrB,EAAUM,YAAYvB,SAASmB,cAAc,OAG/C,IAAMK,EAAOxB,SAASmB,cAAc,QACpCK,EAAKC,aAAa,QAAS,yCAC3B,IAAMc,EAAavC,SAASmB,cAAc,YAC1CoB,EAAWd,aAAa,KAAM,cAC9Bc,EAAWd,aAAa,OAAQ,KAChCc,EAAWd,aAAa,OAAQ,MAChC,IAAMe,EAAaxC,SAASmB,cAAc,SAC1CqB,EAAWf,aAAa,KAAM,cAC9Be,EAAWf,aAAa,OAAQ,UAChCe,EAAWf,aAAa,UAAW,gBACnCe,EAAWf,aAAa,QAAS,qDAEjCD,EAAKD,YAAYgB,GACjBf,EAAKD,YAAYiB,GAEjBvB,EAAUM,YAAYC,GAEtBP,EAAUM,YAAYvB,SAASmB,cAAc,OAG7C,cAAuBe,OAAO3C,QAAQ+B,GAAtC,eAAgD,CAAC,IAAD,OAAtCa,EAAsC,KAAjCC,EAAiC,KAC3CD,IAAQzC,IACTM,SAASC,eAAe,cAAcmB,UAAYgB,IAjHlDK,CAAkB9B,OACb,CACL,IAAMM,EAAYjB,SAASC,eAAe,iBAC1CgB,EAAUF,MAAMc,MAAQ,MACxBZ,EAAUM,YAAYvB,SAAS8B,eAAe,uCAmJT5B,MAAM,YAE7C,yBAAKL,GAAG,sB,kCCjNd,wDAuBe6C,IAhBC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACjB,OACE,yBAAKC,UAAU,WACb,uBAAGC,KAAK,IAAID,UAAU,SACpB,yBAAKE,IAAKC,IAAMC,IAAI,eAAeJ,UAAU,SAC7C,6CAEDD,K,uBCdPM,EAAOC,QAAU,IAA0B,oD,qBCA3C,IAAIC,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAS,EAAQ,QAAiBC,EACtCN,EAAOC,QAAU,SAAUM,GACzB,OAAO,SAAUhE,GAOf,IANA,IAKI2C,EALAsB,EAAIJ,EAAU7D,GACdkE,EAAON,EAAQK,GACfE,EAASD,EAAKC,OACdC,EAAI,EACJC,EAAS,GAENF,EAASC,GACdzB,EAAMuB,EAAKE,KACNT,IAAeG,EAAOQ,KAAKL,EAAGtB,IACjC0B,EAAOE,KAAKP,EAAY,CAACrB,EAAKsB,EAAEtB,IAAQsB,EAAEtB,IAG9C,OAAO0B,K,kCCDIG,IAjBQ,WACrB,IACIJ,EADAK,EAAOjE,SAASkE,uBAAuB,eAG3C,IAAKN,EAAI,EAAGA,EAAIK,EAAKN,OAAQC,IAC3BK,EAAKL,GAAGO,iBAAiB,SAAS,WAChCC,KAAKC,UAAUC,OAAO,UACtB,IAAIhD,EAAU8C,KAAKG,mBACW,UAA1BjD,EAAQP,MAAMC,QAChBM,EAAQP,MAAMC,QAAU,OAExBM,EAAQP,MAAMC,QAAU,a","file":"component---src-pages-sp-js-fc387b477536f7a71138.js","sourcesContent":["// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","import React, { useEffect } from \"react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport Subpage from \"../components/subpage\";\n\nimport \"../assets/styles.css\";\nimport addCollapsible from \"../js/collapsible\";\n\nconst SecretPage = () => {\n  let username;\n  let password;\n\n  const login = () => {\n    username = document.getElementById(\"username\").value;\n    password = document.getElementById(\"password\").value;\n\n    fetch(\"https://bawp.glitch.me/todo\", {\n      method: 'GET',\n      credentials: 'include',\n      cache: 'no-cache',\n      headers: {\n        'Access-Control-Allow-Credentials': 'true',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Authorization': username + \":\" + password\n      },\n    }).then((response) => {\n      return response.json();\n    }).then((data) => {\n      console.log(data);\n      if (data.status === \"content retrieved\") {\n        const login = document.getElementById(\"login-form\");\n        login.style.display = \"none\"\n        setTodoContents(data);\n      } else {\n        const secretdiv = document.getElementById(\"secretcontent\");\n        secretdiv.style.color = \"red\";\n        secretdiv.appendChild(document.createTextNode(\"wrong username/password combo\"));\n      }\n    });\n\n    fetch(\"https://bawp.glitch.me/prayers\", {\n      method: 'GET',\n      credentials: 'include',\n      cache: 'no-cache',\n      headers: {\n        'Access-Control-Allow-Credentials': 'true',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Authorization': username + \":\" + password\n      },\n    }).then((response) => {\n      return response.json();\n    }).then((data) => {\n      console.log(data);\n      if (data.status === \"content retrieved\") {\n        setPrayerContents(data);\n      } else {\n        const secretdiv = document.getElementById(\"secretcontent\");\n        secretdiv.style.color = \"red\";\n        secretdiv.appendChild(document.createTextNode(\"wrong username/password combo\"));\n      }\n    });\n  }\n\n  function setTodoContents(data) {\n    const secretdiv = document.getElementById(\"secretcontent\");\n\n    const todoheading = document.createElement(\"h2\");\n    todoheading.innerHTML = \"To do\";\n    const todocontent = document.createElement(\"ul\");\n    todocontent.innerHTML = data.content;\n\n    // Append to the secretdiv\n    secretdiv.appendChild(todoheading);\n    secretdiv.appendChild(todocontent);\n    secretdiv.appendChild(document.createElement(\"br\"));\n\n    if (username === \"all\") {\n      const form = document.createElement(\"form\");\n      form.setAttribute(\"style\", \"display: flex; flex-direction: column\");\n      const todopost = document.createElement(\"textarea\");\n      todopost.setAttribute(\"id\", \"todopost\");\n      todopost.setAttribute(\"rows\", \"7\");\n      todopost.setAttribute(\"cols\", \"50\");\n      const todosend = document.createElement(\"input\");\n      todosend.setAttribute(\"id\", \"todosend\");\n      todosend.setAttribute(\"type\", \"button\");\n      todosend.setAttribute(\"onclick\", \"sendTodo()\");\n      todosend.setAttribute(\"value\", \"Send Todo (Overwrite Current; write with li tags for each bullet point)\");\n\n      form.appendChild(todopost);\n      form.appendChild(todosend);\n\n      secretdiv.appendChild(form);\n      document.getElementById(\"todopost\").innerHTML = data.content;\n\n    }\n\n    secretdiv.appendChild(document.createElement(\"hr\"));\n  }\n\n  function sendTodo() {\n    const todo = document.getElementById(\"todopost\");\n\n    fetch(\"https://bawp.glitch.me/todo\", {\n      method: 'POST',\n      credentials: 'include',\n      cache: 'no-cache',\n      headers: {\n        'Access-Control-Allow-Credentials': 'true',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Authorization': username + \":\" + password,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ \"todo\": todo.value }),\n    }).then((response) => {\n      return response.json();\n    }).then((data) => {\n      if (typeof window !== `undefined`) {\n        window.alert(\"New todo set!\");\n      }\n      todo.value = \"\";\n    });\n  }\n\n  function setPrayerContents(data) {\n    const secretdiv = document.getElementById(\"secretcontent\");\n\n    const prayerheading = document.createElement(\"h2\");\n    prayerheading.innerHTML = \"Prayers\";\n    secretdiv.appendChild(prayerheading);\n\n    const content = JSON.parse(data.content);\n    // add all the prayer requests of the people\n    for (let [key, val] of Object.entries(content)) {\n      const prayername = document.createElement(\"h3\");\n      prayername.innerHTML = key;\n      const prayercontent = document.createElement(\"p\");\n      prayercontent.innerHTML = val;\n\n      secretdiv.appendChild(prayername);\n      secretdiv.appendChild(prayercontent);\n      secretdiv.appendChild(document.createElement(\"br\"));\n    }\n\n    const form = document.createElement(\"form\");\n    form.setAttribute(\"style\", \"display: flex; flex-direction: column\");\n    const prayerpost = document.createElement(\"textarea\");\n    prayerpost.setAttribute(\"id\", \"prayerpost\");\n    prayerpost.setAttribute(\"rows\", \"7\");\n    prayerpost.setAttribute(\"cols\", \"50\");\n    const prayersend = document.createElement(\"input\");\n    prayersend.setAttribute(\"id\", \"prayersend\");\n    prayersend.setAttribute(\"type\", \"button\");\n    prayersend.setAttribute(\"onclick\", \"sendPrayer()\");\n    prayersend.setAttribute(\"value\", \"Send Prayer Requests for Self (Overwrite Current)\");\n\n    form.appendChild(prayerpost);\n    form.appendChild(prayersend);\n\n    secretdiv.appendChild(form);\n\n    secretdiv.appendChild(document.createElement(\"hr\"));\n\n\n    for (let [key, val] of Object.entries(content)) {\n      if(key === username){\n        document.getElementById(\"prayerpost\").innerHTML = val;\n      }\n    }\n\n  }\n\n  function sendPrayer() {\n    const prayer = document.getElementById(\"prayerpost\");\n\n    const url = \"https://bawp.glitch.me/prayers/\" + username;\n    fetch(url, {\n      method: 'POST',\n      credentials: 'include',\n      cache: 'no-cache',\n      headers: {\n        'Access-Control-Allow-Credentials': 'true',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Authorization': username + \":\" + password,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ \"prayer\": prayer.value }),\n    }).then((response) => {\n      return response.json();\n    }).then((data) => {\n      if (typeof window !== `undefined`) {\n        window.alert(\"New prayer set!\");\n      }\n      prayer.value = \"\";\n    });\n  }\n  return (\n    <Layout>\n      <SEO title=\"\" />\n      <Subpage>\n      <form id=\"login-form\">\n        username: <input type=\"text\" id=\"username\"/><br/>\n        password: <input type=\"password\" id=\"password\"/><br/>\n        <input type=\"button\" onClick={login} value=\"Log in\"/>\n      </form>\n      <div id=\"secretcontent\"></div>\n      </Subpage>\n    </Layout>\n  );\n};\n\nexport default SecretPage;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport logo from \"../assets/img/logo.png\";\n\nimport \"../assets/styles.css\";\n\nconst Subpage = ({ children }) => {\n  return (\n    <div className=\"subpage\">\n      <a href=\"/\" className=\"title\">\n        <img src={logo} alt=\"Living Water\" className=\"logo\" />\n        <h1>Living Water</h1>\n      </a>\n      {children}\n    </div>\n  );\n};\n\nSubpage.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Subpage;\n","module.exports = __webpack_public_path__ + \"static/logo-aa9e77d2d33a77bc2316a7b722d7aa20.png\";","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","const addCollapsible = () => {\n  var coll = document.getElementsByClassName(\"collapsible\");\n  var i;\n\n  for (i = 0; i < coll.length; i++) {\n    coll[i].addEventListener(\"click\", function () {\n      this.classList.toggle(\"active\");\n      var content = this.nextElementSibling;\n      if (content.style.display === \"block\") {\n        content.style.display = \"none\";\n      } else {\n        content.style.display = \"block\";\n      }\n    });\n  }\n};\n\nexport default addCollapsible;\n"],"sourceRoot":""}